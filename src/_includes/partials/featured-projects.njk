<section class="featured-projects">
  <div class="container">
    <h2>Featured Projects</h2>
    <div class="projects-grid">
      {% set featuredProjects = projects | selectattr("featured", "equalto", true) | sort(attribute="order") %}
      {% for project in featuredProjects | limit(3) %}
      <article class="project-card">
        <div class="project-header">
          <h3 class="project-title">{{ project.title }}</h3>
          <span class="project-role">{{ project.role }}</span>
        </div>
        <p class="project-description">{{ project.description }}</p>

        <div class="project-tech">
          {% for tech in project.techStack %}
          <span class="tech-badge">{{ tech }}</span>
          {% endfor %}
        </div>

        {% if project.challenges %}
        <details class="project-challenges">
          <summary>Key Challenges</summary>
          <ul>
            {% for challenge in project.challenges %}
            <li>{{ challenge }}</li>
            {% endfor %}
          </ul>
        </details>
        {% endif %}

        <div class="project-links">
          {% if project.links.demo %}
          <a href="{{ project.links.demo }}" target="_blank" rel="noopener">Demo</a>
          {% endif %}
          {% if project.links.github %}
          <a href="{{ project.links.github }}" target="_blank" rel="noopener">GitHub</a>
          {% endif %}
          {% if project.links.caseStudy %}
          <a href="{{ project.links.caseStudy }}">Case Study</a>
          {% endif %}
        </div>
      </article>
      {% endfor %}
    </div>
    <a href="/projects/" class="view-all">View All Projects â†’</a>
  </div>
</section>
