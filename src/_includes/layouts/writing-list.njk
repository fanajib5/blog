---
layout: layouts/base.njk
---
{% block content %}
<section class="archive-page">
  <header class="page-header">
    <h1 class="page-title">{{ title }}</h1>
    {% if description %}
    <p class="page-description">{{ description }}</p>
    {% endif %}
  </header>

  <div class="post-list">
    {% set posts = collections.writing %}
    
    {% if posts.length == 0 %}
    <p>Belum ada artikel.</p>
    {% else %}
    
    {# Group posts by year #}
    {% set currentYear = null %}
    
    {% for post in posts %}
      {% set postYear = post.date.getFullYear() %}
      
      {% if postYear != currentYear %}
        {% if currentYear != null %}</ul>{% endif %}
        {% set currentYear = postYear %}
        <h2 class="year-heading">{{ currentYear }}</h2>
        <ul class="posts-in-year">
      {% endif %}
      
      <li class="post-item">
        <time datetime="{{ post.date | dateFormat('iso') }}">
          {{ post.date | dateFormat('short') }}
        </time>
        <a href="{{ post.url }}">{{ post.data.title }}</a>
      </li>
    {% endfor %}
    </ul>
    {% endif %}
  </div>
</section>
{% endblock %}
