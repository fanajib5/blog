---
layout: layouts/base.njk
pagination:
  data: collections.writing
  size: 10
  alias: posts
permalink: "writing/{% if pagination.href.previous %}page/{{ pagination.pageNumber + 1 }}/{% endif %}index.html"
---

<main class="wrapper">
  <h1 class="text-3xl md:text-4xl font-bold mb-6">
    <a href="/" class="home-link">{{ title }}</a>
  </h1>

  {% if content %}
  <div class="content prose prose-custom max-w-none mb-8">
    {{ content | safe }}
  </div>
  {% endif %}

  <div class="space-y-6" id="writing-container">
    {% for post in posts %}
    <article class="card">
      <h2 class="text-xl font-semibold mb-2">
        <a href="{{ post.url }}" class="home-link">{{ post.data.title }}</a>
      </h2>

      <p class="text-sm dim mb-3">
        <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="inline mr-1">
          <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
          <line x1="16" y1="2" x2="16" y2="6"></line>
          <line x1="8" y1="2" x2="8" y2="6"></line>
          <line x1="3" y1="10" x2="21" y2="10"></line>
        </svg>
        {{ post.date | displayDate }}
        {% if post.data.author %}
        &middot; {{ post.data.author }}
        {% endif %}
      </p>

      {% if post.data.description %}
      <p class="text-[var(--c-txt-alt)] mb-3">{{ post.data.description }}</p>
      {% else %}
      <p class="text-[var(--c-txt-alt)] mb-3">{{ post.templateContent | striptags | truncate(200) }}</p>
      {% endif %}

      {% if post.data.tags %}
      <div class="flex flex-wrap gap-2">
        {% for tag in post.data.tags %}
        <a href="/tags/{{ tag | slugify }}/" class="post-tag text-sm">{{ tag }}</a>
        {% endfor %}
      </div>
      {% endif %}
    </article>
    {% endfor %}
  </div>

  <!-- Pagination -->
  <nav class="flex justify-between items-center mt-8">
    {% if pagination.href.previous %}
    <a
      href="{{ pagination.href.previous }}"
      class="px-4 py-2 rounded border border-[var(--c-txt-alt)] hover:border-[var(--primary)] hover:text-[var(--primary)] transition-colors">
      &larr; Previous
    </a>
    {% else %}
    <span></span>
    {% endif %}

    <span class="text-sm dim">
      Page {{ pagination.pageNumber + 1 }} of {{ pagination.links.length }}
    </span>

    {% if pagination.href.next %}
    <a
      href="{{ pagination.href.next }}"
      class="px-4 py-2 rounded border border-[var(--c-txt-alt)] hover:border-[var(--primary)] hover:text-[var(--primary)] transition-colors">
      Next &rarr;
    </a>
    {% else %}
    <span></span>
    {% endif %}
  </nav>
</main>
